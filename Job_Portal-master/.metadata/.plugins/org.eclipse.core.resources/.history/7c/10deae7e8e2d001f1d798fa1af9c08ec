package com.userservice.controller;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;

import com.userservice.model.Recruiter;
import com.userservice.service.RecruiterService;

@RestController
@RequestMapping("/user/recruiters")
public class RecruiterController {

    @Autowired
    private RecruiterService recruiterService;

    @PostMapping("/add")
    public ResponseEntity<Recruiter> addRecruiter(@RequestBody Recruiter recruiter) {
        Recruiter addedRecruiter = recruiterService.addRecruiter(recruiter);
        return new ResponseEntity<>(addedRecruiter, HttpStatus.CREATED);
    }

    @GetMapping("/getall")
    public ResponseEntity<List<Recruiter>> getAllRecruiters() {
        List<Recruiter> allRecruiters = recruiterService.getAllRecruiters();
        return new ResponseEntity<>(allRecruiters, HttpStatus.OK);
    }

    @GetMapping("/get/{id}")
    public ResponseEntity<Recruiter> getRecruiterById(@PathVariable long id) {
        Recruiter recruiter = recruiterService.getRecruiterById(id);
        return new ResponseEntity<>(recruiter, HttpStatus.OK);
    }

    @PutMapping("/update")
    public ResponseEntity<Recruiter> updateRecruiter(@RequestBody Recruiter recruiter) {
        Recruiter updatedRecruiter = recruiterService.updateRecruiter(recruiter);
        return new ResponseEntity<>(updatedRecruiter, HttpStatus.OK);
    }

    @DeleteMapping("/delete/{id}")
    public ResponseEntity<String> deleteRecruiter(@PathVariable long id) {
        recruiterService.deleteRecruiter(id);
        return new ResponseEntity<>("Recruiter deleted successfully", HttpStatus.OK);
    }
}
